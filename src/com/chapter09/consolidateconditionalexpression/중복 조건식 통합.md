# 중복 조건식 통합

###### Consolidate Conditional Expression

여러 조건 검사식의 결과가 같을 땐 하나의 조건문으로 합친 후 메서드를 빼내자

</br>

[보기]

- 변경 전

  ```java
  double disabilityAmount() {
  	if (seniority < 2) {
  		return 0;
  	}
  	if (monthsDisabled > 12) {
  		return 0;
  	}
  	if (isPartTime) {
  		return 0;
  	}
  	//장애인 공제액 산출
  ```

- 변경 후

  ```java
  double disabilityAmount() {
  	if (isNotElgibleForDisability()) {
  		return 0;
  	}
      //장애인 공제액 산출
  ```

</br>


[방법]

1. 모든 조건문에 부작용이 없는지 검사
   (하나라도 있으면 리팩토링 X)

</br>

2. 여러 개의 조건문을 논리 연산자를 사용해 하나의 조건문으로 바꾸자.

</br>

3. 컴파일과 테스트를 실시 

</br>

4. 합친 조건문에 메서드 추출 적용 고려

</br>

[예제 - 논리합(OR) 연산자]

- 수정 전

  ```java
  public class Example01 {
      int seniority = 1;
      int monthsDisabled = 13;
      boolean isPartTime = true;
  
      double disabilityAmount() {
          if (seniority < 2) {
              return 0;
          }
          if (monthsDisabled > 12) {
              return 0;
          }
          if (isPartTime) {
              return 0;
          }
          return -1;
      }
  }
  ```

</br>

- 수정 후

  - 순차적인 조건문을 논리합 연산자로 연결한 하나의 조건문으로 수정  후
  - isNotElgibleForDisability() 메서드로 추출
  
  ```java
  public class Example01 {
      int seniority = 1;
      int monthsDisabled = 13;
      boolean isPartTime = true;
  
      double disabilityAmount() {
          if (isNotElgibleForDisability()) {
              return 0;
          }
          return -1;
      }
  
      boolean isNotElgibleForDisability() {
          return (seniority < 2) || (monthsDisabled > 12) || (isPartTime);
      }
  }
  ```
  

</br>



[예제 - 논리곱(AND) 연산자]

- 수정 전

  ```java
  public class Example02 {
  
      double disabilityAmount() {
          if (onVaction()) {
              if (lengthOfService() > 10) {
                  return 1;
              }
          }
          return 0.5;
      }
  }
  ```

</br>

- 수정 후

  - 이중 조건문을 논리곱 연산자로 하나로 연결
  
  ```java
  public class Example02 {

      double disabilityAmount() {
          if (onVaction() && lengthOfService() > 10) {
              return 1;
          } else {
              return 0.5;
          }
      }
  }
  ```
  

</br>

[예제 - 삼항 연산자]

- 수정 전

  ```java
  public class Example03 {
  
      double disabilityAmount() {
          if (onVaction() && lengthOfService() > 10) {
              return 1;
          } else {
              return 0.5;
          }
      }
  }
  ```

</br>

- 수정 후

  ```java
  public class Example03 {
  
      double disabilityAmount() {
          return (onVacation() && lengthOfService() > 10) ?  1 : 0:5 ;
      }
  }
  ```

