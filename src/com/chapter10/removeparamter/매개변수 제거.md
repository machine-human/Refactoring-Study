# 매개변수 제거

###### Remove Paramter

메서드가 어떤 매개변수를 더 이상 사용하지 않을 땐 그 매개변수를 삭제

</br>

[클래스 다이어그램]

![Remove Parameter.PNG](https://raw.githubusercontent.com/machine-human/Refactoring-Study/master/image/Remove%20Parameter.PNG)

</br>

[방법]

1. 메서드 시그너처가 상위클래스나 하위클래스에 구현되어 있는지 검사

   (하위클래스나 상위클래스가 제거하려는 매개변수를 사용한다면 이 리팩토링은 하지 말아야 함)

</br>

2. 제거할 매개변수가 없는 새 메서드를 선언

</br>

3. 원본 메서드의 내용을 새 메서드로 복사

   (매개변수를 둘 이상 제거해야 할 때는 한꺼번에 제거하는 것이 편리)

</br>

4. 컴파일

</br>

5. 새 메서드를 호출하도록 원본 메서드의 내용을 수정

   (참조하는 부분이 적다면 이 단계는 건너뛰어도 됨)

</br>

6. 컴파일과 테스트

</br>

7. 원본 메서드 참조 부분을 전부 찾아서 새 메서드를 참조하게 수정

   (수정할 때마다 테서트 실시)

</br>

8. 원본 메서드 삭제

   (원본 메서드가 인터페이스에 들어 있고)
   
   (그 메서드의 어느 호출 부분에도 접근할 수 없다면)
   
   (원본 메서드는 그대로 두고 deprecated로 표시)

</br>

9. 컴파일과 테스트

</br>

[예제 - 1]

- 수정 전

  ```java
  public class Example01 {
      private double salary = 0.0;
  
      void tenPercentRaise() {
          salary *= 1.1;
      }
  
      void fivePercentRaise() {
          salary *= 1.05;
      }
  }
  ```

</br>

- 수정 후

  ```java
  public class Example01 {
      private double salary = 0.0;
  
      void raise(double factor) {
          salary *= (1 + factor);
      }
  }
  ```
  

</br>

[예제 - 2]

- 수정 전

  ```java
  public class Example02 {
      private double salary = 0.0;
  
      protected Dollars baseCharge(){
          double result = Math.min(lastUsage(), 100) * 0.03;
          if (lastUsage() > 100){
              result += (Mathi.min(lastUsage(), 200) - 100) * 0.05;
          };
  
          if (lastUsage() > 200){
              result += (lastUsage() - 200) * 0.07;
          };
  
          return new Dollars (result);
      }
  }
  
  ```

</br>

- 수정 후

  - 메서드의 일부분에만 적용 가능할 땐 별도의 메서드로 빼낸 후 그 메서드에 매개변수를 추가
  - usageInRange(int start, int end) 메서드 생성

  ```java
  public class Example02 {
      private double salary = 0.0;
  
      protected Dollars baseCharge() {
          double result = Math.min(lastUsage(), 100) * 0.03;
          result += usageInRange(100, 200) * 0.05;
          result += usageInRange(200, Integer.MAX_VALUE) * 0.07;
          return new Dollars(result);
      }
  
      protected int usageInRange(int start, int end) {
          if (lastUsage() > start) {
              return Math.min(lastUsage(), end) - start;
          } else {
              return 0;
          }
      }
  }
  ```
