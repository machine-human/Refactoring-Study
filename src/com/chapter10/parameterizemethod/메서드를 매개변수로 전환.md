# 메서드를 매개변수로 전환

###### Parameterize Method

여러 메서드가 기능은 비슷하고 안에 든 값만 다를 땐 
서로 다른 값을 하나의 매개변수로 전달받는 메서드를 하나 작성하자

</br>

[클래스 다이어그램]

![Parameterize Method.PNG](https://raw.githubusercontent.com/machine-human/Refactoring-Study/master/image/Parameterize%20Method.PNG)

</br>


[방법]

1. 여러 메서드를 대체할 수 있는 매개변수 메서드를 작성하자

</br>

2. 컴파일하자

</br>

3. 새 메서드를 호출하도록 원본 메서드 하나를 수정하자

</br>

4. 컴파일과 테스트를 실시하자

</br>

5. 모든 메서드를 대상으로 앞의 절차를 반복 실시하면서 테스트하자

</br>

[예제 - 1]

- 수정 전

  ```java
  public class Example01 {
      private double salary = 0.0;
  
      void tenPercentRaise() {
          salary *= 1.1;
      }
  
      void fivePercentRaise() {
          salary *= 1.05;
      }
  }
  ```

</br>

- 수정 후

  ```java
  public class Example01 {
      private double salary = 0.0;
  
      void raise(double factor) {
          salary *= (1 + factor);
      }
  }
  ```
  

</br>

[예제 - 1]

- 수정 전

  ```java
  public class Example02 {
      private double salary = 0.0;
  
      protected Dollars baseCharge(){
          double result = Math.min(lastUsage(), 100) * 0.03;
          if (lastUsage() > 100){
              result += (Mathi.min(lastUsage(), 200) - 100) * 0.05;
          };
  
          if (lastUsage() > 200){
              result += (lastUsage() - 200) * 0.07;
          };
  
          return new Dollars (result);
      }
  }
  ```

</br>

- 수정 후

  ```java
  public class Example02 {
      private double salary = 0.0;
  
      protected Dollars baseCharge() {
          double result = Math.min(lastUsage(), 100) * 0.03;
          result += usageInRange(100, 200) * 0.05;
          result += usageInRange(200, Integer.MAX_VALUE) * 0.07;
          return new Dollars(result);
      }
  
      protected int usageInRange(int start, int end) {
          if (lastUsage() > start) {
              return Math.min(lastUsage(), end) - start;
          } else {
              return 0;
          }
      }
  }
  ```

</br>

[저자 왈]

- 매개변수로 전달받을 수 있는 몇 개의 값을 기준으로 반복되는 코드를 찾는 것이 요령