# 객체를 통째로 전달

######  Preserve Whole Object 

객체에서 가져온 여러 값을 메서드 호출에서 매개변수로 전달할 땐
그 객체를 통째로 전달하게 수정하자

</br>

[보기]

- 변경 전

  ```java
          int low = daysTempRnage().getLow();
          int high = daysTempRnage().getHigh();
          withinPlan = plan.withinRange(low, high);
  ```

</br>

- 변경 후

  ```java
  		withinPlan = plan.withinRange(daysTempRang());
  ```

</br>


[방법]

1. 데이터가 속한 통 객체에 새 매개변수를 작성

</br>

2. 컴파일과 테스트를 실시

</br>

3. 통 객체에서 가져와야 할 매개변수를 파악 

</br>

4. 한 매개변수를 선택해서 메서드 안에서 그 매개변수를 참조하는 부분을 
    
    넘겨 받은 통 객체 안의 적절한 메서드 호출로 바꾸자

</br>

5. 그 매개변수를 삭제하자

</br>

6. 컴파일과 테스트를 실시하자

</br>

7. 통 객체에서 가져올 수 있는 모든 매개변수를 대상으로 위의 과정을 반복하자

</br>

8. 삭제한 매개변수들을 가져오는 호출 메서드 안의 코드를 삭제하자

   (이 매개변수들이 코드의 다른 곳에 전혀 사용되지 않을 때만 수행)

</br>

9. 컴파일과 테스트 실시

</br>

[예제]

- 수정 전

  ```java
  public class HeatingPlan {
      private TempRange range = new TempRange();
  
      boolean withinRange(int low, int high) {
          return (low >= range.getLow() && high <= range.getHigh());
      }
  }
  ```
  
  ```c++
  public class Room {
      boolean withinPlan(HeatingPlan plan) {
          int low = daysTempRnage().getLow();
          int high = daysTempRnage().getHigh();
          return plan.withinRange(low, high);
      }
  
      private TempRange daysTempRnage() {
          return new TempRange();
      }
  }
  ```
  
  ```c++
  public class TempRange {
      public int getLow() {
          return 1;
      }
  
      public int getHigh() {
          return 1;
      }
  }
  ```

</br>

- 수정 후

  ```java
  public class HeatingPlan {
      private TempRange range = new TempRange();
  
      boolean withinRange(TempRange roomRange) {
          return range.includes(roomRange);
      }
  }
  ```
  
  ```c++
  public class Room {
      boolean withinPlan(HeatingPlan plan) {
          return plan.withinRange(daysTempRnage());
      }
  
      private TempRange daysTempRnage() {
          return new TempRange();
      }
  }
  ```
  
  ```c++
  public class TempRange {
      public int getLow() {
          return 1;
      }
  
      public int getHigh() {
          return 1;
      }
  
      boolean includes(TempRange arg) {
          return arg.getLow() >= this.getLow() && arg.getHigh() <= this.getHigh();
      }
  }
  ```
