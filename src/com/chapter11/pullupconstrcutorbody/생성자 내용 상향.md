# 생성자 내용 상향

###### Pull Up Constructor Body

하위클래스마다 거의 비슷한 내용의 생성자가 있을 땐 

상위클래스에 생성자를 생성하고, 그 생성자를 하위클래스의 메서드에서 호출하자

</br>

[보기]

- 변경 전

  ```java
  class Manager extends Employee...
  
      public Manager(String name, String id, int grade) {
          super.name = name;
          super.id = id;
          this.grade = grade;
      }
  ...
  ```

- 변경 후

  ```java
  class Manager extends Employee {
      public Manager(String name, String id, int grade) {
          super(name, id);
          this.grade = grade;
      }
  }
  ```

</br>

[방법]

1. 상위클래스에 생성자를 정의

</br>

2. 하위클래스 생성자에서 앞 부분의 공통적인 코드를 상위클래스 생성자 안으로 옮기자
   
   (어쩌면 하위클래스 생성자의 코드 전체를 옮겨야 할지도 모름)
   
   (공통 코드를 생성자 앞쪽에 넣자)

</br>

3. 하위클래스 생성자 안의 맨 앞에 상위클래스 생성자 호출 코드를 넣자

   (코드 전체가 공통적이라면 하위클래스 상성자 안에 바로 이 상위클래스 생성자 호출 코드만 남게 됨)

</br>

4. 컴파일과 테스트

   (나중에 공통적인 코드가 발견되면 메서드 추출을 적용해 공통적인 코드를 별도의 메서드로 만들고)

   (메서드 상향을 적용해 상위클래스로 올리자)

</br>

[예제]

- 수정 전

  ```java
  class Employee {
      protected String name;
      protected String id;
  }
  
  class Manager extends Employee {
      int grade;
  
      public Manager(String name, String id, int grade) {
          super.name = name;
          super.id = id;
          this.grade = grade;
      }
  }
  ```

</br>

- 수정 후

  - 부모클래스의 필드 값을 초기화 하는 방법 변경
  - super.부모필드 -> super(매개값)
  
  ```java
  class Employee {
      protected String name;
      protected String id;
  
      protected Employee(String name, String id) {
          this.name = name;
          this.id = id;
      }
  }
  
  class Manager extends Employee {
      int grade;
  
      public Manager(String name, String id, int grade) {
          super(name, id);
          this.grade = grade;
      }
  }
  ```
  
