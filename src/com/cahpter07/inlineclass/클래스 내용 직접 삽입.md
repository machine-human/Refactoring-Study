# 클래스 내용 직접 삽입

###### Inline Class

클래스에 기능이 너무 적을 땐 그 클래스의 모든 기능을 다른 클래스로 합쳐 넣고 원래의 클래스는 삭제하자

</br>

[클래스 다이어그램]

![Inline Class.PNG](https://raw.githubusercontent.com/machine-human/Refactoring-Study/master/image/Inline%20Class.PNG)

</br>

[방법]

1. 원본 클래스의 public 프로토콜 메서드를 합칠 클래스에 선언하고,

</br>

2. 이 메서드를 전부 원본 클래스에 위임하자
   (원본 클래스의 메서드 대신 별도의 인터페이스가 알맞다고 판단되면 해당 기법 실시 전 인터페이스 추출 기법 실시)

</br>

3. 원본 클래스의 모든 참조를 합칠 클래스 참조로 수정하자
   (원본 클래스를 private로 선언하고 패키지 밖의 참조를 삭제)
   (컴파일러가 껍데기만 남은 원본 클래스 참조를 찾아낼 수 있게 원본 클래스명을 변경하자)

</br>

4. 컴파일과 테스트 실시

</br>

5. 메서드 이동 기법과 필드 이동 기법을 실시해 원본 클래스의 모든 기능을 합칠 클래스로 차례로 옮기자

</br>

6. 원본 클래스를 삭제하자

</br>

[예제]

- 수정 전

  ```java
  public class Person ...  
      private String name;   
      private TelephoneNumber officeTelephone = new TelephoneNumber(); 
      
      public String getName() {    
          return name;  
      }  
      
      public String getTelephoneNumber() {    
          return officeTelephone.getTelephoneNumber(); 
      }   
      
      TelephoneNumber getOfficeTelephone() {     
          return officeTelephone; 
      }
  ...
  ```
  
  ```java
  public class TelephoneNumber ... 
      private String areaCode; 
      private String number;  
      
      public String getTelephoneNumber() {     
          return ("(" + areaCode + ") " + number);   
      }   
      
      String getAreaCode() {      
          return areaCode;  
      }  
      
      void setAreaCode(String arg) {    
          areaCode = arg;  
      }  
      
      String getNumber() {     
          return number; 
      }   
      
      void setNumber(String arg) { 
          number = arg;
      }
  ...
  ```

</br>

- 수정 후

  ```java
  public class Person ...
      private String name;  
      private String areaCode;  
      private String number;   
      
      public String getAreaCode() { 
          return areaCode;  
      }  
      
      public void setAreaCode(String areaCode) { 
          this.areaCode = areaCode;
      }   
      
      public String getNumber() {     
          return number;  
      }   
      
      public void setNumber(String number) {      
          this.number = number;  
      }   
      
      public String getName() {      
          return name;   
      }   
      
      public String getTelephoneNumber() { 
          return ("(" + areaCode + ") " + number); 
      }
  ...
  ```

